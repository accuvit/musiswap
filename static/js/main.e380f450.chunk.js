(this.webpackJsonpmusiswap=this.webpackJsonpmusiswap||[]).push([[0],{23:function(e,t,a){e.exports=a(50)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),o=a.n(r),s=(a(28),a(1)),i=(a(29),a(9)),u=(a(30),a(3)),l=a.n(u),p=a(4),m=a(5),d=a.n(m);function f(){return(f=Object(p.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.request({method:"get",url:a,headers:{Authorization:"Bearer ".concat(t)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e){var t=e.color,a=e.rate,n={backgroundColor:t,width:"".concat(100*a,"%"),height:"100%",borderRadius:50,display:"flex",alignItems:"center",justifyContent:"flex-end",overflowX:"hidden"};return c.a.createElement("div",{style:{backgroundColor:"transparent",borderRadius:50,width:"200px",height:"40px"}},c.a.createElement("div",{style:n,className:"neumorph"},c.a.createElement("span",{style:{fontWeight:"bold",color:"transparent",fontSize:"1.5em",marginRight:"5px",textShadow:"2px 2px 1px rgba(255,255,255,0.3), -1px -1px 1px rgba(0,0,0,0.1)"}},"".concat((100*a).toFixed(0),"%"))))},b=a(20),v=a.n(b),g="AIzaSyDz4zsQw78G1PvS-LO4bSgbfrp5KlIX9ik",y=a(8);var w=function(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)(),l=Object(s.a)(u,2),p=l[0],m=l[1],b=Object(n.useState)(),g=Object(s.a)(b,2),w=g[0],j=g[1],k=Object(n.useState)(!1),O=Object(s.a)(k,2),x=O[0],E=O[1],S=Object(n.useState)(!1),N=Object(s.a)(S,2),I=N[0],z=N[1],A=Object(n.useState)(0),C=Object(s.a)(A,2),B=C[0],q=C[1],L=Object(n.useState)([]),R=Object(s.a)(L,2),T=R[0],M=R[1],P=window.location.origin,_=e.setTracks;Object(n.useEffect)((function(){return _(T)}),[I]);var G=function e(t){(function(e,t){return f.apply(this,arguments)})((null===r||void 0===r?void 0:r.access_token)||"",t).then((function(t){var a,n=t.data;a=n.items.map((function(e){return{name:e.track.name,artist:e.track.artists[0].name}})),M((function(e){return[].concat(Object(i.a)(e),Object(i.a)(a))})),q((n.offset+n.items.length)/n.total),n.next?e(n.next):z(!1)}))};return c.a.createElement("div",{className:"spotifyRoot neumorph-in"},c.a.createElement(y.a,{className:"icon ".concat(x?"icon-out":""),size:100}),c.a.createElement("img",{src:w,height:"100px",className:"".concat(x?"avatar":""," avatar-in"),alt:p,onLoad:function(){return E(!0)}}),c.a.createElement("p",null,p?"Welcome ".concat(p,"!"):null),r?I?c.a.createElement(h,{color:"#1db954",rate:B}):0===T.length?c.a.createElement("button",{className:"sbutton neumorph",onClick:function(){z(!0),G("https://api.spotify.com/v1/me/tracks?offset=0&limit=50")}},"Load my liked tracks"," "):c.a.createElement("span",null,"".concat(T.length," tracks selected")):c.a.createElement(v.a,{className:"sbutton neumorph",clientId:"33b65e0532a04e0bbac8c3bced1337fc",redirectUri:P,onSuccess:function(e){o(e),function(e){return d.a.request({method:"get",url:"https://api.spotify.com/v1/me",headers:{Authorization:"Bearer ".concat(e)}})}(e.access_token).then((function(e){m(e.data.display_name),j(e.data.images[0].url)}))},onFailure:function(e){return console.log(e)},scope:"user-library-read"},"Login Spotify"))},j=a(21);a(49);function k(e,t){var a=encodeURIComponent(t),n="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&order=relevance&q=".concat(a,"&safeSearch=none&type=video&key=").concat(g);return d.a.request({method:"GET",url:n,headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}})}function O(e,t,a){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(l.a.mark((function e(t,a,n){var c,r,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(a.artist," ").concat(a.name),e.next=3,k(t,c);case 3:return r=e.sent,o=r.data.items[0].id.videoId,e.next=7,E(t,o,n);case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,a){var n="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=".concat(g);return d.a.request({method:"POST",url:n,headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"},data:{snippet:{playlistId:a,resourceId:{kind:"youtube#video",videoId:t}}}})}function S(e,t){var a="https://www.googleapis.com/youtube/v3/playlists?part=snippet%2Cstatus&key=".concat(g);return d.a.request({method:"POST",url:a,headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"},data:{snippet:{title:t,description:"Converted playlist from Spotify",tags:["API Call","Musiswap","Music"]},privacyStatus:"public"}})}var N=a(22);var I=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(),u=Object(s.a)(i,2),m=u[0],d=u[1],f=Object(n.useState)(),h=Object(s.a)(f,2),b=h[0],v=h[1],g=Object(n.useState)(!1),w=Object(s.a)(g,2),k=w[0],x=w[1],E=function(){var t=Object(p.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Musiswap",a=e.tracks.slice(0,11),t.next=4,S(r,"Musiswap").then(function(){var e=Object(p.a)(l.a.mark((function e(t){var n,c,o,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.id,c=Object(j.a)(a),e.prev=2,c.s();case 4:if((o=c.n()).done){e.next=12;break}return s=o.value,e.next=8,O(r,s,n);case 8:i=e.sent,console.log(i);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:console.log(a);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"youtube-root neumorph-in"},c.a.createElement(y.b,{className:"icon-youtube ".concat(k?"icon-out":""),size:100}),c.a.createElement("img",{src:b,height:"100px",className:"".concat(k?"avatar":""," avatar-in"),alt:null===m||void 0===m?void 0:m.name,onLoad:function(){return x(!0)}}),c.a.createElement("p",null,m?"You're set, ".concat(m.givenName):null),r?e.tracks.length>0?c.a.createElement("button",{className:"loginButton neumorph",onClick:E},"Import selected tracks"):c.a.createElement("div",null):c.a.createElement(N.GoogleLogin,{clientId:"230448497881-97p4dipujfsu8i5ehqbbte2rmsl9e1p2.apps.googleusercontent.com",onSuccess:function(e){d(e.profileObj),o(e.accessToken||e.code),v(e.profileObj.imageUrl)},onFailure:function(e){console.log(e)},isSignedIn:!1,cookiePolicy:"single_host_origin",render:function(e){return c.a.createElement("button",{className:"loginButton neumorph",onClick:e.onClick},"Login Google")},scope:"https://www.googleapis.com/auth/youtube"}))};var z=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"spotify"},c.a.createElement(w,{setTracks:r})),c.a.createElement("div",{className:"youtube"},c.a.createElement(I,{tracks:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.e380f450.chunk.js.map